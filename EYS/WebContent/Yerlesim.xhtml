<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>EYS</title>
</h:head>
<h:body>
	<h2>Merhaba JSF</h2>
	<h:form id="frmYerlesim">
	<p:growl id="growl" showDetail="true" life="3000" autoUpdate="true"  />  
 
		<p:dataTable id="tblYerlesim" selectionMode="single" selection="#{yerlesimMB.yerlesim}" rowKey="#{yerlesim.id}" widgetVar="tblYerlesim" var="yerlesim" value="#{yerlesimMB.liste}">
				
			<p:column headerText="ID" >#{yerlesim.id}</p:column>

			<p:column headerText="Ad" >#{yerlesim.tanim}</p:column>
					
			<p:column headerText="TC Kimlik No" >#{yerlesim.kod}</p:column>
			
			<p:column headerText="İşlemler"> 
				<p:commandButton icon="ui-icon-trash" actionListener="#{yerlesimMB.sil(yerlesim.id)}" update=":frmYerlesim:tblYerlesim,:frmYerlesim:growl" ></p:commandButton>
			</p:column>
		</p:dataTable>
		<p:commandButton value="Yeni" onclick="PF('dlgYerlesim').show()"></p:commandButton>
		
		<p:dialog id="dlgYerlesim" widgetVar="dlgYerlesim">
			<p:panelGrid columns="2">
				<p:outputLabel>Tanım :</p:outputLabel>
				<p:inputText value="#{yerlesimMB.yerlesim.tanim}" ></p:inputText>
							
				<p:outputLabel>Kod :</p:outputLabel>
				<p:inputText value="#{yerlesimMB.yerlesim.kod}" ></p:inputText>

				<p:commandButton value="İptal" onclick="PF('dlgYerlesim').hide()"></p:commandButton>
				<p:commandButton value="Kaydet" actionListener="#{yerlesimMB.kaydet}" update=":frmYerlesim:tblYerlesim,:frmYerlesim:growl,:frmYerlesim:dlgYerlesim" oncomplete="PF('dlgYerlesim').hide()"></p:commandButton>
			
			</p:panelGrid>
		</p:dialog>
	</h:form>
</h:body>
</html>